// Project-local debug tasks
//
// For more documentation on how to configure debug tasks,
// see: https://zed.dev/docs/debugger
[
  {
    "label": "Debug DAP server",
    "adapter": "CodeLLDB",
    "program": "target/debug/probe-rs",
    "request": "launch",
    "args": ["dap-server", "--single-session", "--port", "50000"],
    "build": {
      "command": "cargo",
      "args": ["build", "--bin", "probe-rs"]
    }
  },
  {
    "label": "Run addr2line example",
    "adapter": "CodeLLDB",
    "program": "target/debug/examples/addr2line",
    "request": "launch",
    "args": [
      "$ZED_WORKTREE_ROOT/../../nrf54l15_vpr_example/flpr-core/target/riscv32emc-unknown-none-elf/release/flpr-core",
      "0x101f6"
    ],
    "build": {
      "command": "cargo",
      "args": ["build", "--example", "addr2line", "-p", "probe-rs-debug"]
    }
  }
]
